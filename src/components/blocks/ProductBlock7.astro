---
/**
 * Product Block 7 - Minimal Conversion Machine
 * Usage: <ProductBlock7 id="acaia-pearl-scale" />
 * Clean, focused, irresistible CTA design
 */
import { getEntry } from "astro:content";
import ProductCard7 from "../ProductCard7.astro";

export interface Props {
    id: string;
}

const { id } = Astro.props;

// Get product from single dynamic collection
const product = await getEntry("affiliateProducts", id);

if (!product) {
    console.warn(`ProductBlock7: Product "${id}" not found`);
    return null;
}

const data = product.data;
---

<ProductCard7
    title={data.title}
    description={data.description}
    price={data.price}
    originalPrice={data.originalPrice}
    image={data.image}
    imageAlt={data.imageAlt}
    affiliateUrl={data.affiliateUrl}
    rating={data.rating}
    reviewCount={data.reviewCount}
    brand={data.brand}
    features={data.features}
    pros={data.pros}
    cons={data.cons}
    badge={data.badge}
    buttonText={data.buttonText}
/>
