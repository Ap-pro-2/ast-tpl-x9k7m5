---
/**
 * Test Page - Design System Showcase
 * Demonstrates the new next-level design system features
 */

import BaseLayout from "../layouts/BaseLayout.astro";
import DesignSystemShowcase from "../components/ui/DesignSystemShowcase.astro";
import { getSiteSettings } from "../core/blogLogic";

// Get site settings for consistent theming
const settings = await getSiteSettings();

// SEO data for test page
const seoData = {
  pageTitle: "Design System Test",
  description: "Testing the new advanced design system features with fluid typography, animations, and semantic tokens.",
};
---

<BaseLayout
  pageTitle={seoData.pageTitle}
  description={seoData.description}
  noindex={true}
>
  <!-- Test Page Header -->
  <section class="py-12 lg:py-16" style="background: var(--bg-primary);">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      
      <!-- Page Title with Stagger Animation -->
      <div class="stagger-children">
        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full mb-6 theme-card-glass">
          <div class="w-2 h-2 rounded-full animate-pulse" style="background: var(--color-success);"></div>
          <span class="text-caption font-semibold text-gradient uppercase tracking-wider">
            Design System Test
          </span>
        </div>
        
        <h1 class="text-display-fluid text-gradient mb-6">
          Advanced Design System
        </h1>
        
        <p class="text-fluid-lg max-w-3xl mx-auto leading-relaxed mb-8" style="color: var(--text-secondary);">
          Experience the new fluid typography, advanced animations, semantic colors, and enhanced components in action.
        </p>
        
        <!-- Test Buttons -->
        <div class="cluster justify-center">
          <button class="button">
            Primary Test
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
            </svg>
          </button>
          <button class="button button--secondary">
            Secondary Test
          </button>
          <button class="button button--success">
            Success Test
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Design System Showcase Component -->
  <DesignSystemShowcase />

  <!-- Additional Test Section -->
  <section class="py-16" style="background: var(--bg-secondary);">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      
      <div class="text-center mb-12">
        <h2 class="text-headline-fluid mb-4" style="color: var(--text-primary); font-family: var(--font-heading);">
          Quick Feature Tests
        </h2>
        <p class="text-fluid-base" style="color: var(--text-secondary);">
          Interactive examples of the new design system features
        </p>
      </div>

      <!-- Test Grid -->
      <div class="grid-masonry stagger-children">
        
        <!-- Fluid Typography Test -->
        <div class="card">
          <div class="space-lg">
            <h3 class="text-fluid-xl font-bold mb-4" style="color: var(--text-primary);">
              Fluid Typography Test
            </h3>
            <div class="space-sm">
              <p class="text-fluid-lg" style="color: var(--text-primary);">Large fluid text</p>
              <p class="text-fluid-base" style="color: var(--text-secondary);">Base fluid text</p>
              <p class="text-fluid-sm" style="color: var(--text-muted);">Small fluid text</p>
            </div>
          </div>
        </div>

        <!-- Interactive Card Test -->
        <div class="card card--interactive">
          <div class="space-lg">
            <h3 class="text-fluid-xl font-bold mb-4" style="color: var(--text-primary);">
              Interactive Card
            </h3>
            <p class="text-fluid-base" style="color: var(--text-secondary);">
              Hover over this card to see the advanced animation effects with GPU acceleration.
            </p>
          </div>
        </div>

        <!-- Floating Card Test -->
        <div class="card card--floating">
          <div class="space-lg">
            <h3 class="text-fluid-xl font-bold mb-4" style="color: var(--text-primary);">
              Floating Card
            </h3>
            <p class="text-fluid-base" style="color: var(--text-secondary);">
              This card uses glassmorphism effects with backdrop blur and semi-transparent backgrounds.
            </p>
          </div>
        </div>

        <!-- State Test Cards -->
        <div class="card state-success">
          <div class="space-md">
            <h4 class="text-fluid-lg font-bold mb-2">Success State</h4>
            <p class="text-fluid-sm">Using semantic success colors</p>
          </div>
        </div>

        <div class="card state-warning">
          <div class="space-md">
            <h4 class="text-fluid-lg font-bold mb-2">Warning State</h4>
            <p class="text-fluid-sm">Using semantic warning colors</p>
          </div>
        </div>

        <div class="card state-error">
          <div class="space-md">
            <h4 class="text-fluid-lg font-bold mb-2">Error State</h4>
            <p class="text-fluid-sm">Using semantic error colors</p>
          </div>
        </div>

        <div class="card state-info">
          <div class="space-md">
            <h4 class="text-fluid-lg font-bold mb-2">Info State</h4>
            <p class="text-fluid-sm">Using semantic info colors</p>
          </div>
        </div>

      </div>

      <!-- Spacing Test -->
      <div class="card mt-16">
        <div class="space-lg">
          <h3 class="text-headline-fluid mb-8" style="color: var(--text-primary);">
            Advanced Spacing System Test
          </h3>
          
          <!-- Different spacing examples -->
          <div class="space-3xs mb-4">
            <div class="flex items-center">
              <div class="w-3 h-3 rounded" style="background: var(--color-primary);"></div>
              <span class="text-fluid-sm" style="color: var(--text-secondary);">3XS spacing (2px)</span>
            </div>
          </div>
          
          <div class="space-sm mb-4">
            <div class="flex items-center">
              <div class="w-3 h-3 rounded" style="background: var(--color-success);"></div>
              <span class="text-fluid-sm" style="color: var(--text-secondary);">SM spacing (12px)</span>
            </div>
          </div>
          
          <div class="space-lg mb-4">
            <div class="flex items-center">
              <div class="w-3 h-3 rounded" style="background: var(--color-warning);"></div>
              <span class="text-fluid-sm" style="color: var(--text-secondary);">LG spacing (24px)</span>
            </div>
          </div>
          
          <div class="space-2xl">
            <div class="flex items-center">
              <div class="w-3 h-3 rounded" style="background: var(--color-error);"></div>
              <span class="text-fluid-sm" style="color: var(--text-secondary);">2XL spacing (48px)</span>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- Back to Home -->
  <section class="py-12" style="background: var(--bg-primary);">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <div class="cluster justify-center">
        <a href="/" class="button">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
          </svg>
          Back to Home
        </a>
        <a href="/blog" class="button button--secondary">
          View Blog
        </a>
      </div>
    </div>
  </section>

</BaseLayout>

<!-- Page-specific animations -->
<style>
  /* Enhanced animations for test page */
  .test-page-animation {
    animation: slideInUp 0.8s var(--ease-out-expo);
  }
  
  /* Custom hover effects for test cards */
  .card--interactive:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 
      0 25px 50px rgba(0, 0, 0, 0.15),
      0 10px 20px rgba(0, 0, 0, 0.1);
  }
  
  /* Pulse animation for status indicators */
  @keyframes pulse-glow {
    0%, 100% { 
      opacity: 1; 
      transform: scale(1);
    }
    50% { 
      opacity: 0.7; 
      transform: scale(1.1);
    }
  }
  
  .animate-pulse {
    animation: pulse-glow 2s infinite;
  }
</style>